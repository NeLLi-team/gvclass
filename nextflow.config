// Default parameters
params {
    querydir = 'example'
    outdir = "${params.querydir}_results"
    database_path = "${projectDir}/resources"
    keep_temp = true
    mafftoption = 'linsi'
    treeoption = 'iqtree'
    mode_fast = true
}

// Process configuration
process {
    // Use the Pixi environment
    conda = null
}

// Profiles for different execution environments
profiles {
    standard {
        process.executor = 'local'
    }

    docker {
        docker.enabled = true
        docker.runOptions = '-u $(id -u):$(id -g)'
        process.container = 'gvclass:latest'
    }

    singularity {
        singularity.enabled = true
        singularity.autoMounts = true
        process.container = 'gvclass.sif'
    }

    slurm {
        process.executor = 'slurm'
        process.queue = 'regular'
        process.clusterOptions = '--account=m3408'
    }
}

// Execution reports
timeline {
    enabled = true
    file = "${params.outdir}/execution_timeline.html"
}

report {
    enabled = true
    file = "${params.outdir}/execution_report.html"
}

trace {
    enabled = true
    file = "${params.outdir}/execution_trace.txt"
}
